---
title: "Regression Discontinuity Designs"
format:
    revealjs:
        smaller: true
        scrollable: true
        css: ../styles.css
    pdf: default
---

## Big idea

- Cutoff on a continuous variable assigns units to treatment vs. control.
    - Called the **running** or **forcing** variable and often denoted as $X$
- Are units just above the cutoff vs. just below really all that different?
    - Probably not, and that's helpful to us!
    - Those just above the cutoff are good guesses for the counterfactual outcome for those just below, and vice versa.



## Examples

- Elections: Cutoff at 50% determines party in governance within a geographical unit
    - Variety of social, political, and economic outcomes of interest
    - Are districts with 50.1% of votes for Democrats really different from those with 49.9%?
    - The former are definitely governed by Democrats, and the latter are not.

- Environmental exposures: Thresholds define "high" levels of exposure
    - Radon test when buying a home: if measured radon exceeds 4 pCi/L (picocuries/liter), seller is more likely to pay for a radon mitigation system as part of closing the deal.
    - Are homes with 4 pCi/L really different from those with 3.9 pCi/L?
    - The former are more likely to have a radon mitigation system.

Hilton Boon et al ([2021](http://dx.doi.org/10.1097/EDE.0000000000001274)) provide an overview of forcing variables that are commonly used in health studiesâ€”take (see [Table 1](https://journals.lww.com/epidem/fulltext/2021/01000/regression_discontinuity_designs_in_health__a.12.aspx#T1)).



## Sharp vs. fuzzy RDDs

- Scenario 1: Districts with over 50% of votes for a candidate are wholly governed by that candidate.
- Scenario 2: Homes with over 4 pCi/L of radon don't always get a radon mitigation system.
- Scenario 1 is a sharp RDD because the probability of treatment goes from 0 to 1 at the cutoff.
- Scenario 2 is a fuzzy RDD because the probability of treatment changes sharply at the cutoff but not necessarily from 0 to 1.

![](https://www.theeffectbook.net/the-effect_files/figure-html/regressiondiscontinuity-treatmentshare-1.png){fig-alt="Difference betwen sharp and fuzzy regression discontinuity designs. Both panels show the proportion treated as a function of the cutoff.}



## Continuity assumption and RDD plot

- Not only does the running variable affect treatment, it also affects the outcome.
- What would things look like if everyone received tre

![](https://mixtape.scunning.com/graphics/rdd_simul1.jpg)

![](https://mixtape.scunning.com/graphics/rdd_simul_ex.jpg)

![](https://mixtape.scunning.com/graphics/rdd_simul2.jpg)



## Underlying causal graph

![](https://mixtape.scunning.com/06-Regression_Discontinuity_files/figure-html/unnamed-chunk-3-1.png)

## Overview of analysis

Outline of major steps

- Check integrity of forcing variable
- Evaluate continuity assumption with placebo tests
- RDD modeling

## Context for the study

Pick either DWI from mixtape or govt transfers from the effect.

DWI is sharp (pro)
Is govt transfers sharp?
DWI has full data?
gov transfers def does not have full data


## Check forcing variable: via context



## Check forcing variable: via plots

nuances of making histogram with the right binwidth
- good first guess at binwidth
- 

![](https://www.theeffectbook.net/the-effect_files/figure-html/regressiondiscontinuity-kernel-1.png)


## check forcing variable: tests




## RDD modeling overview

- Look at y vs. forcing plot to get a sense for global vs. local


## Global model

importance of correct functional form

![](https://www.theeffectbook.net/the-effect_files/figure-html/regressiondiscontinuity-poly-1.png)



## Local model

need to select bandwidth
- different methods for choosing bandwidth

![](https://www.theeffectbook.net/the-effect_files/figure-html/regressiondiscontinuity-kernel-1.png)



## Placebo tests

same RDD model but replace y with pre-treatment covariates
Use same bw as for main RDD model?









